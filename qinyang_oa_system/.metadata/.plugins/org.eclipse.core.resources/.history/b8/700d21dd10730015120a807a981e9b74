package com.viewcontroller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.servlet.ModelAndView;

import com.dao.system_user_info_dao;
import com.data.system_user_info;
import com.mybatis.mybatis_connection_factory;

@Controller
public class login_controller 
{

	@RequestMapping("login.do")
  public ModelAndView login_request(
		  @RequestParam(value="username") String username,
			@RequestParam(value="password") String password
		  )
  {
	  system_user_info db_user_info=get_system_user_inf_by_user_name(username);
	  String db_user_password=db_user_info.get_user_password();
	  
	  ModelAndView mv=new ModelAndView();
	  if(db_user_password==password)
	  {
		  mv.addObject("status", "成功");
	  }
	  else
	  {
		  mv.addObject("status", "失败");
	  }
	  
	  return mv;
  }
  
  
  //根据用户名从数据库返回system_user_info的对象
  private system_user_info get_system_user_inf_by_user_name(String user_name)
  {
	  system_user_info _system_user_info=new system_user_info();
	  system_user_info_dao _system_user_info_dao=new system_user_info_dao(mybatis_connection_factory.getSqlSessionFactory());
	  
	  return _system_user_info;
  }
}
